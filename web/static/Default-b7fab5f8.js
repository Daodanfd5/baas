import{g as Y,c as v,m as D,d as $,u as we,o as k,a as M,w as S,b as ue,e as pe,s as L,f as w,h as be,i as A,j as N,k as se,C as _e,p as q,l as ke,n as Se,q as Ve,t as ee,r as Te,v as xe,x as Me,y as z,z as Be,A as Ce,T as Ee,F,B as Le,D as re,E as te,G as ae,H as Pe,I as Re}from"./index-8d479069.js";import{m as Ie,u as W,V as Ne,a as He,b as $e,c as De,d as Z,e as Ye,f as Ae,g as We,h as ie,i as Oe,j as ne,k as ze,l as Xe,n as Fe,o as ce,p as qe,t as Ze,q as je,r as H,s as Ge,v as ve,w as Ue,x as Je,y as X,z as Ke,A as Qe,B as et,C as tt}from"./scopeId-a2f757fc.js";const at=Y()({name:"VAppBarTitle",props:Ie(),setup(e,o){let{slots:n}=o;return W(()=>v(Ne,D(e,{class:"v-app-bar-title"}),n)),{}}}),nt=pe("h2",null," BAAS ",-1),lt=$({__name:"AppBar",setup(e){const o=we();function n(){o.global.name.value=o.global.current.value.dark?"light":"dark"}return(l,t)=>(k(),M($e,null,{append:S(()=>[v(He,{label:ue(o).global.name.value,onClick:t[0]||(t[0]=a=>n())},null,8,["label"])]),default:S(()=>[v(at,null,{default:S(()=>[nt]),_:1})]),_:1}))}});function ot(e){let{rootEl:o,isSticky:n,layoutItemStyles:l}=e;const t=L(!1),a=L(0),s=w(()=>{const h=typeof t.value=="boolean"?"top":t.value;return[n.value?{top:"auto",bottom:"auto",height:void 0}:void 0,t.value?{[h]:be(a.value)}:{top:l.value.top}]});A(()=>{N(n,h=>{h?window.addEventListener("scroll",b,{passive:!0}):window.removeEventListener("scroll",b)},{immediate:!0})}),se(()=>{window.removeEventListener("scroll",b)});let p=0;function b(){const h=p>window.scrollY?"up":"down",c=o.value.getBoundingClientRect(),d=parseFloat(l.value.top??0),m=window.scrollY-Math.max(0,a.value-d),f=c.height+Math.max(a.value,d)-window.scrollY-window.innerHeight,g=parseFloat(getComputedStyle(o.value).getPropertyValue("--v-body-scroll-y"))||0;c.height<window.innerHeight-d?(t.value="top",a.value=d):h==="up"&&t.value==="bottom"||h==="down"&&t.value==="top"?(a.value=window.scrollY+c.top-g,t.value=!0):h==="down"&&f<=0?(a.value=0,t.value="bottom"):h==="up"&&m<=0&&(g?t.value!=="top"&&(a.value=-m+g+d,t.value="top"):(a.value=c.top+m,t.value="top")),p=window.scrollY}return{isStuck:t,stickyStyles:s}}const ut=100,st=20;function le(e){const o=1.41421356237;return(e<0?-1:1)*Math.sqrt(Math.abs(e))*o}function oe(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let o=0;for(let n=e.length-1;n>0;n--){if(e[n].t===e[n-1].t)continue;const l=le(o),t=(e[n].d-e[n-1].d)/(e[n].t-e[n-1].t);o+=(t-l)*Math.abs(t),n===e.length-1&&(o*=.5)}return le(o)*1e3}function rt(){const e={};function o(t){Array.from(t.changedTouches).forEach(a=>{(e[a.identifier]??(e[a.identifier]=new _e(st))).push([t.timeStamp,a])})}function n(t){Array.from(t.changedTouches).forEach(a=>{delete e[a.identifier]})}function l(t){var h;const a=(h=e[t])==null?void 0:h.values().reverse();if(!a)throw new Error(`No samples for touch id ${t}`);const s=a[0],p=[],b=[];for(const c of a){if(s[0]-c[0]>ut)break;p.push({t:c[0],d:c[1].clientX}),b.push({t:c[0],d:c[1].clientY})}return{x:oe(p),y:oe(b),get direction(){const{x:c,y:d}=this,[m,f]=[Math.abs(c),Math.abs(d)];return m>f&&c>=0?"right":m>f&&c<=0?"left":f>m&&d>=0?"down":f>m&&d<=0?"up":it()}}}return{addMovement:o,endTouch:n,getVelocity:l}}function it(){throw new Error}function ct(e){let{isActive:o,isTemporary:n,width:l,touchless:t,position:a}=e;A(()=>{window.addEventListener("touchstart",I,{passive:!0}),window.addEventListener("touchmove",T,{passive:!1}),window.addEventListener("touchend",B,{passive:!0})}),se(()=>{window.removeEventListener("touchstart",I),window.removeEventListener("touchmove",T),window.removeEventListener("touchend",B)});const s=w(()=>["left","right"].includes(a.value)),{addMovement:p,endTouch:b,getVelocity:h}=rt();let c=!1;const d=L(!1),m=L(0),f=L(0);let g;function P(u,i){return(a.value==="left"?u:a.value==="right"?document.documentElement.clientWidth-u:a.value==="top"?u:a.value==="bottom"?document.documentElement.clientHeight-u:E())-(i?l.value:0)}function R(u){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const r=a.value==="left"?(u-f.value)/l.value:a.value==="right"?(document.documentElement.clientWidth-u-f.value)/l.value:a.value==="top"?(u-f.value)/l.value:a.value==="bottom"?(document.documentElement.clientHeight-u-f.value)/l.value:E();return i?Math.max(0,Math.min(1,r)):r}function I(u){if(t.value)return;const i=u.changedTouches[0].clientX,r=u.changedTouches[0].clientY,y=25,V=a.value==="left"?i<y:a.value==="right"?i>document.documentElement.clientWidth-y:a.value==="top"?r<y:a.value==="bottom"?r>document.documentElement.clientHeight-y:E(),x=o.value&&(a.value==="left"?i<l.value:a.value==="right"?i>document.documentElement.clientWidth-l.value:a.value==="top"?r<l.value:a.value==="bottom"?r>document.documentElement.clientHeight-l.value:E());(V||x||o.value&&n.value)&&(c=!0,g=[i,r],f.value=P(s.value?i:r,o.value),m.value=R(s.value?i:r),b(u),p(u))}function T(u){const i=u.changedTouches[0].clientX,r=u.changedTouches[0].clientY;if(c){if(!u.cancelable){c=!1;return}const V=Math.abs(i-g[0]),x=Math.abs(r-g[1]);(s.value?V>x&&V>3:x>V&&x>3)?(d.value=!0,c=!1):(s.value?x:V)>3&&(c=!1)}if(!d.value)return;u.preventDefault(),p(u);const y=R(s.value?i:r,!1);m.value=Math.max(0,Math.min(1,y)),y>1?f.value=P(s.value?i:r,!0):y<0&&(f.value=P(s.value?i:r,!1))}function B(u){if(c=!1,!d.value)return;p(u),d.value=!1;const i=h(u.changedTouches[0].identifier),r=Math.abs(i.x),y=Math.abs(i.y);(s.value?r>y&&r>400:y>r&&y>3)?o.value=i.direction===({left:"right",right:"left",top:"down",bottom:"up"}[a.value]||E()):o.value=m.value>.5}const C=w(()=>d.value?{transform:a.value==="left"?`translateX(calc(-100% + ${m.value*l.value}px))`:a.value==="right"?`translateX(calc(100% - ${m.value*l.value}px))`:a.value==="top"?`translateY(calc(-100% + ${m.value*l.value}px))`:a.value==="bottom"?`translateY(calc(100% - ${m.value*l.value}px))`:E(),transition:"none"}:void 0);return{isDragging:d,dragProgress:m,dragStyles:C}}function E(){throw new Error}const vt=["start","end","left","right","top","bottom"],dt=q({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>vt.includes(e)},sticky:Boolean,...De(),...Z(),...Ye(),...Ae(),...We(),...ie({tag:"nav"}),...ke()},"VNavigationDrawer"),de=Y()({name:"VNavigationDrawer",props:dt(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,o){let{attrs:n,emit:l,slots:t}=o;const{isRtl:a}=Se(),{themeClasses:s}=Ve(e),{borderClasses:p}=Oe(e),{backgroundColorClasses:b,backgroundColorStyles:h}=ne(ee(e,"color")),{elevationClasses:c}=ze(e),{mobile:d}=Te(),{roundedClasses:m}=Xe(e),f=Fe(),g=xe(e,"modelValue",null,_=>!!_),{ssrBootStyles:P}=ce(),{scopeId:R}=qe(),I=Me(),T=L(!1),B=w(()=>e.rail&&e.expandOnHover&&T.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),C=w(()=>Ze(e.location,a.value)),u=w(()=>!e.permanent&&(d.value||e.temporary)),i=w(()=>e.sticky&&!u.value&&C.value!=="bottom");z(()=>e.expandOnHover&&e.rail!=null,()=>{N(T,_=>l("update:rail",!_))}),z(()=>!e.disableResizeWatcher,()=>{N(u,_=>!e.permanent&&Le(()=>g.value=!_))}),z(()=>!e.disableRouteWatcher&&!!f,()=>{N(f.currentRoute,()=>u.value&&(g.value=!1))}),N(()=>e.permanent,_=>{_&&(g.value=!0)}),Be(()=>{e.modelValue!=null||u.value||(g.value=e.permanent||!d.value)});const{isDragging:r,dragProgress:y,dragStyles:V}=ct({isActive:g,isTemporary:u,width:B,touchless:ee(e,"touchless"),position:C}),x=w(()=>{const _=u.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):B.value;return r.value?_*y.value:_}),{layoutItemStyles:O,layoutItemScrimStyles:me}=je({id:e.name,order:w(()=>parseInt(e.order,10)),position:C,layoutSize:x,elementSize:B,active:w(()=>g.value||r.value),disableTransitions:w(()=>r.value),absolute:w(()=>e.absolute||i.value&&typeof j.value!="string")}),{isStuck:j,stickyStyles:fe}=ot({rootEl:I,isSticky:i,layoutItemStyles:O}),G=ne(w(()=>typeof e.scrim=="string"?e.scrim:null)),ge=w(()=>({...r.value?{opacity:y.value*.2,transition:"none"}:void 0,...me.value}));Ce({VList:{bgColor:"transparent"}});function he(){T.value=!0}function ye(){T.value=!1}return W(()=>{const _=t.image||e.image;return v(F,null,[v(e.tag,D({ref:I,onMouseenter:he,onMouseleave:ye,class:["v-navigation-drawer",`v-navigation-drawer--${C.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":T.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":u.value,"v-navigation-drawer--active":g.value,"v-navigation-drawer--sticky":i.value},s.value,b.value,p.value,c.value,m.value,e.class],style:[h.value,O.value,V.value,P.value,fe.value,e.style]},R,n),{default:()=>{var U,J,K,Q;return[_&&v("div",{key:"image",class:"v-navigation-drawer__img"},[t.image?(U=t.image)==null?void 0:U.call(t,{image:e.image}):v("img",{src:e.image,alt:""},null)]),t.prepend&&v("div",{class:"v-navigation-drawer__prepend"},[(J=t.prepend)==null?void 0:J.call(t)]),v("div",{class:"v-navigation-drawer__content"},[(K=t.default)==null?void 0:K.call(t)]),t.append&&v("div",{class:"v-navigation-drawer__append"},[(Q=t.append)==null?void 0:Q.call(t)])]}}),v(Ee,{name:"fade-transition"},{default:()=>[u.value&&(r.value||g.value)&&!!e.scrim&&v("div",D({class:["v-navigation-drawer__scrim",G.backgroundColorClasses.value],style:[ge.value,G.backgroundColorStyles.value],onClick:()=>g.value=!1},R),null)]})])}),{isStuck:j}}}),mt=$({__name:"NavServ",setup(e){const o=re([]);A(async()=>{await H.loadServs(),o.push(...H.ls_servs.map(t=>({title:t,value:t})));const l=await Ge();Ue(l)});const n=async l=>{await H.selectServ(l)};return(l,t)=>(k(),M(de,{permanent:"",width:"166"},{default:S(()=>[v(ve,{lines:"one",items:o,"onClick:select":t[0]||(t[0]=a=>n(a.id))},null,8,["items"])]),_:1}))}}),ft=$({__name:"NavConf",setup(e){const o=re([]);A(async()=>{const l=await Je();o.push(...l.list)});const n=async l=>{await H.selectConfig(l)};return(l,t)=>(k(),M(de,{permanent:"",width:"166"},{default:S(()=>[ue(H).cur_serv?(k(),M(ve,{key:0,"onClick:select":t[0]||(t[0]=a=>n(a.id))},{default:S(()=>[v(X,{title:"总览",value:"builtin:summary"}),(k(!0),te(F,null,ae(o,a=>(k(),M(Ke,{key:a.text},{activator:S(({props:s})=>[v(X,D(s,{title:a.text}),null,16,["title"])]),default:S(()=>[(k(!0),te(F,null,ae(a.child,s=>(k(),M(X,{key:s.name,title:s.text,value:s.name},null,8,["title","value"]))),128))]),_:2},1024))),128))]),_:1})):Pe("",!0)]),_:1}))}});const gt=q({scrollable:Boolean,...Z(),...ie({tag:"main"})},"VMain"),ht=Y()({name:"VMain",props:gt(),setup(e,o){let{slots:n}=o;const{mainStyles:l}=Qe(),{ssrBootStyles:t}=ce();return W(()=>v(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[l.value,t.value,e.style]},{default:()=>{var a,s;return[e.scrollable?v("div",{class:"v-main__scroller"},[(a=n.default)==null?void 0:a.call(n)]):(s=n.default)==null?void 0:s.call(n)]}})),{}}}),yt=$({__name:"View",setup(e){return(o,n)=>{const l=Re("router-view");return k(),M(ht,null,{default:S(()=>[v(l)]),_:1})}}});const wt=q({...Z(),...et()},"VLayout"),pt=Y()({name:"VLayout",props:wt(),setup(e,o){let{slots:n}=o;const{layoutClasses:l,layoutStyles:t,getLayoutItem:a,items:s,layoutRef:p}=tt(e);return W(()=>{var b;return v("div",{ref:p,class:[l.value,e.class],style:[t.value,e.style]},[(b=n.default)==null?void 0:b.call(n)])}),{getLayoutItem:a,items:s}}}),kt=$({__name:"Default",setup(e){return(o,n)=>(k(),M(pt,null,{default:S(()=>[v(lt),v(mt),v(ft),v(yt)]),_:1}))}});export{kt as default};
