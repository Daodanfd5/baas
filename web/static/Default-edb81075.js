import{g as Y,c as v,m as D,d as $,u as pe,o as k,a as M,w as S,b as ue,e as _e,s as L,f as w,h as ke,i as A,j as N,k as se,C as Se,p as j,l as Ve,n as Te,q as xe,t as ee,r as Me,v as Be,x as Ce,y as z,z as Ee,A as Le,T as Pe,F,B as Re,D as re,E as te,G as ae,H as Ie,I as Ne}from"./index-9f0ff17f.js";import{m as He,u as W,V as $e,a as De,b as Ye,w as ie,c as Ae,d as q,e as We,f as Oe,g as ze,h as ce,i as Xe,j as ne,k as Fe,l as je,n as qe,o as ve,p as Ze,t as Ge,q as Ue,r as H,s as de,v as Je,x as Ke,y as X,z as Qe,A as et,B as tt,C as at}from"./scopeId-7b64791f.js";const nt=Y()({name:"VAppBarTitle",props:He(),setup(e,o){let{slots:n}=o;return W(()=>v($e,D(e,{class:"v-app-bar-title"}),n)),{}}}),lt=_e("h2",null," BAAS ",-1),ot=$({__name:"AppBar",setup(e){const o=pe();function n(){o.global.name.value=o.global.current.value.dark?"light":"dark"}return(l,a)=>(k(),M(Ye,null,{append:S(()=>[v(De,{label:ue(o).global.name.value,onClick:a[0]||(a[0]=t=>n())},null,8,["label"])]),default:S(()=>[v(nt,null,{default:S(()=>[lt]),_:1})]),_:1}))}}),me=e=>e==null?void 0:e.data;async function ut(){return ie.get("/static/render.json").then(me)}async function st(){return ie.get("/static/baas.json").then(me)}function rt(e){let{rootEl:o,isSticky:n,layoutItemStyles:l}=e;const a=L(!1),t=L(0),s=w(()=>{const h=typeof a.value=="boolean"?"top":a.value;return[n.value?{top:"auto",bottom:"auto",height:void 0}:void 0,a.value?{[h]:ke(t.value)}:{top:l.value.top}]});A(()=>{N(n,h=>{h?window.addEventListener("scroll",p,{passive:!0}):window.removeEventListener("scroll",p)},{immediate:!0})}),se(()=>{window.removeEventListener("scroll",p)});let b=0;function p(){const h=b>window.scrollY?"up":"down",c=o.value.getBoundingClientRect(),d=parseFloat(l.value.top??0),m=window.scrollY-Math.max(0,t.value-d),f=c.height+Math.max(t.value,d)-window.scrollY-window.innerHeight,g=parseFloat(getComputedStyle(o.value).getPropertyValue("--v-body-scroll-y"))||0;c.height<window.innerHeight-d?(a.value="top",t.value=d):h==="up"&&a.value==="bottom"||h==="down"&&a.value==="top"?(t.value=window.scrollY+c.top-g,a.value=!0):h==="down"&&f<=0?(t.value=0,a.value="bottom"):h==="up"&&m<=0&&(g?a.value!=="top"&&(t.value=-m+g+d,a.value="top"):(t.value=c.top+m,a.value="top")),b=window.scrollY}return{isStuck:a,stickyStyles:s}}const it=100,ct=20;function le(e){const o=1.41421356237;return(e<0?-1:1)*Math.sqrt(Math.abs(e))*o}function oe(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let o=0;for(let n=e.length-1;n>0;n--){if(e[n].t===e[n-1].t)continue;const l=le(o),a=(e[n].d-e[n-1].d)/(e[n].t-e[n-1].t);o+=(a-l)*Math.abs(a),n===e.length-1&&(o*=.5)}return le(o)*1e3}function vt(){const e={};function o(a){Array.from(a.changedTouches).forEach(t=>{(e[t.identifier]??(e[t.identifier]=new Se(ct))).push([a.timeStamp,t])})}function n(a){Array.from(a.changedTouches).forEach(t=>{delete e[t.identifier]})}function l(a){var h;const t=(h=e[a])==null?void 0:h.values().reverse();if(!t)throw new Error(`No samples for touch id ${a}`);const s=t[0],b=[],p=[];for(const c of t){if(s[0]-c[0]>it)break;b.push({t:c[0],d:c[1].clientX}),p.push({t:c[0],d:c[1].clientY})}return{x:oe(b),y:oe(p),get direction(){const{x:c,y:d}=this,[m,f]=[Math.abs(c),Math.abs(d)];return m>f&&c>=0?"right":m>f&&c<=0?"left":f>m&&d>=0?"down":f>m&&d<=0?"up":dt()}}}return{addMovement:o,endTouch:n,getVelocity:l}}function dt(){throw new Error}function mt(e){let{isActive:o,isTemporary:n,width:l,touchless:a,position:t}=e;A(()=>{window.addEventListener("touchstart",I,{passive:!0}),window.addEventListener("touchmove",T,{passive:!1}),window.addEventListener("touchend",B,{passive:!0})}),se(()=>{window.removeEventListener("touchstart",I),window.removeEventListener("touchmove",T),window.removeEventListener("touchend",B)});const s=w(()=>["left","right"].includes(t.value)),{addMovement:b,endTouch:p,getVelocity:h}=vt();let c=!1;const d=L(!1),m=L(0),f=L(0);let g;function P(u,i){return(t.value==="left"?u:t.value==="right"?document.documentElement.clientWidth-u:t.value==="top"?u:t.value==="bottom"?document.documentElement.clientHeight-u:E())-(i?l.value:0)}function R(u){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const r=t.value==="left"?(u-f.value)/l.value:t.value==="right"?(document.documentElement.clientWidth-u-f.value)/l.value:t.value==="top"?(u-f.value)/l.value:t.value==="bottom"?(document.documentElement.clientHeight-u-f.value)/l.value:E();return i?Math.max(0,Math.min(1,r)):r}function I(u){if(a.value)return;const i=u.changedTouches[0].clientX,r=u.changedTouches[0].clientY,y=25,V=t.value==="left"?i<y:t.value==="right"?i>document.documentElement.clientWidth-y:t.value==="top"?r<y:t.value==="bottom"?r>document.documentElement.clientHeight-y:E(),x=o.value&&(t.value==="left"?i<l.value:t.value==="right"?i>document.documentElement.clientWidth-l.value:t.value==="top"?r<l.value:t.value==="bottom"?r>document.documentElement.clientHeight-l.value:E());(V||x||o.value&&n.value)&&(c=!0,g=[i,r],f.value=P(s.value?i:r,o.value),m.value=R(s.value?i:r),p(u),b(u))}function T(u){const i=u.changedTouches[0].clientX,r=u.changedTouches[0].clientY;if(c){if(!u.cancelable){c=!1;return}const V=Math.abs(i-g[0]),x=Math.abs(r-g[1]);(s.value?V>x&&V>3:x>V&&x>3)?(d.value=!0,c=!1):(s.value?x:V)>3&&(c=!1)}if(!d.value)return;u.preventDefault(),b(u);const y=R(s.value?i:r,!1);m.value=Math.max(0,Math.min(1,y)),y>1?f.value=P(s.value?i:r,!0):y<0&&(f.value=P(s.value?i:r,!1))}function B(u){if(c=!1,!d.value)return;b(u),d.value=!1;const i=h(u.changedTouches[0].identifier),r=Math.abs(i.x),y=Math.abs(i.y);(s.value?r>y&&r>400:y>r&&y>3)?o.value=i.direction===({left:"right",right:"left",top:"down",bottom:"up"}[t.value]||E()):o.value=m.value>.5}const C=w(()=>d.value?{transform:t.value==="left"?`translateX(calc(-100% + ${m.value*l.value}px))`:t.value==="right"?`translateX(calc(100% - ${m.value*l.value}px))`:t.value==="top"?`translateY(calc(-100% + ${m.value*l.value}px))`:t.value==="bottom"?`translateY(calc(100% - ${m.value*l.value}px))`:E(),transition:"none"}:void 0);return{isDragging:d,dragProgress:m,dragStyles:C}}function E(){throw new Error}const ft=["start","end","left","right","top","bottom"],gt=j({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>ft.includes(e)},sticky:Boolean,...Ae(),...q(),...We(),...Oe(),...ze(),...ce({tag:"nav"}),...Ve()},"VNavigationDrawer"),fe=Y()({name:"VNavigationDrawer",props:gt(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,o){let{attrs:n,emit:l,slots:a}=o;const{isRtl:t}=Te(),{themeClasses:s}=xe(e),{borderClasses:b}=Xe(e),{backgroundColorClasses:p,backgroundColorStyles:h}=ne(ee(e,"color")),{elevationClasses:c}=Fe(e),{mobile:d}=Me(),{roundedClasses:m}=je(e),f=qe(),g=Be(e,"modelValue",null,_=>!!_),{ssrBootStyles:P}=ve(),{scopeId:R}=Ze(),I=Ce(),T=L(!1),B=w(()=>e.rail&&e.expandOnHover&&T.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),C=w(()=>Ge(e.location,t.value)),u=w(()=>!e.permanent&&(d.value||e.temporary)),i=w(()=>e.sticky&&!u.value&&C.value!=="bottom");z(()=>e.expandOnHover&&e.rail!=null,()=>{N(T,_=>l("update:rail",!_))}),z(()=>!e.disableResizeWatcher,()=>{N(u,_=>!e.permanent&&Re(()=>g.value=!_))}),z(()=>!e.disableRouteWatcher&&!!f,()=>{N(f.currentRoute,()=>u.value&&(g.value=!1))}),N(()=>e.permanent,_=>{_&&(g.value=!0)}),Ee(()=>{e.modelValue!=null||u.value||(g.value=e.permanent||!d.value)});const{isDragging:r,dragProgress:y,dragStyles:V}=mt({isActive:g,isTemporary:u,width:B,touchless:ee(e,"touchless"),position:C}),x=w(()=>{const _=u.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):B.value;return r.value?_*y.value:_}),{layoutItemStyles:O,layoutItemScrimStyles:ge}=Ue({id:e.name,order:w(()=>parseInt(e.order,10)),position:C,layoutSize:x,elementSize:B,active:w(()=>g.value||r.value),disableTransitions:w(()=>r.value),absolute:w(()=>e.absolute||i.value&&typeof Z.value!="string")}),{isStuck:Z,stickyStyles:he}=rt({rootEl:I,isSticky:i,layoutItemStyles:O}),G=ne(w(()=>typeof e.scrim=="string"?e.scrim:null)),ye=w(()=>({...r.value?{opacity:y.value*.2,transition:"none"}:void 0,...ge.value}));Le({VList:{bgColor:"transparent"}});function we(){T.value=!0}function be(){T.value=!1}return W(()=>{const _=a.image||e.image;return v(F,null,[v(e.tag,D({ref:I,onMouseenter:we,onMouseleave:be,class:["v-navigation-drawer",`v-navigation-drawer--${C.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":T.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":u.value,"v-navigation-drawer--active":g.value,"v-navigation-drawer--sticky":i.value},s.value,p.value,b.value,c.value,m.value,e.class],style:[h.value,O.value,V.value,P.value,he.value,e.style]},R,n),{default:()=>{var U,J,K,Q;return[_&&v("div",{key:"image",class:"v-navigation-drawer__img"},[a.image?(U=a.image)==null?void 0:U.call(a,{image:e.image}):v("img",{src:e.image,alt:""},null)]),a.prepend&&v("div",{class:"v-navigation-drawer__prepend"},[(J=a.prepend)==null?void 0:J.call(a)]),v("div",{class:"v-navigation-drawer__content"},[(K=a.default)==null?void 0:K.call(a)]),a.append&&v("div",{class:"v-navigation-drawer__append"},[(Q=a.append)==null?void 0:Q.call(a)])]}}),v(Pe,{name:"fade-transition"},{default:()=>[u.value&&(r.value||g.value)&&!!e.scrim&&v("div",D({class:["v-navigation-drawer__scrim",G.backgroundColorClasses.value],style:[ye.value,G.backgroundColorStyles.value],onClick:()=>g.value=!1},R),null)]})])}),{isStuck:Z}}}),ht=$({__name:"NavServ",setup(e){const o=re([]);A(async()=>{await H.loadServs(),o.push(...H.ls_servs.map(t=>({title:t,value:t})));const[l,a]=await Promise.all([ut(),st()]);Je(l,a)});const n=async l=>{await H.selectServ(l)};return(l,a)=>(k(),M(fe,{permanent:"",width:"166"},{default:S(()=>[v(de,{lines:"one",items:o,"onClick:select":a[0]||(a[0]=t=>n(t.id))},null,8,["items"])]),_:1}))}}),yt=$({__name:"NavConf",setup(e){const o=re([]);A(async()=>{const l=await Ke();o.push(...l.list)});const n=async l=>{await H.selectConfig(l)};return(l,a)=>(k(),M(fe,{permanent:"",width:"166"},{default:S(()=>[ue(H).cur_serv?(k(),M(de,{key:0,"onClick:select":a[0]||(a[0]=t=>n(t.id))},{default:S(()=>[v(X,{title:"总览",value:"builtin:summary"}),(k(!0),te(F,null,ae(o,t=>(k(),M(Qe,{key:t.text},{activator:S(({props:s})=>[v(X,D(s,{title:t.text}),null,16,["title"])]),default:S(()=>[(k(!0),te(F,null,ae(t.child,s=>(k(),M(X,{key:s.name,title:s.text,value:s.name},null,8,["title","value"]))),128))]),_:2},1024))),128))]),_:1})):Ie("",!0)]),_:1}))}});const wt=j({scrollable:Boolean,...q(),...ce({tag:"main"})},"VMain"),bt=Y()({name:"VMain",props:wt(),setup(e,o){let{slots:n}=o;const{mainStyles:l}=et(),{ssrBootStyles:a}=ve();return W(()=>v(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[l.value,a.value,e.style]},{default:()=>{var t,s;return[e.scrollable?v("div",{class:"v-main__scroller"},[(t=n.default)==null?void 0:t.call(n)]):(s=n.default)==null?void 0:s.call(n)]}})),{}}}),pt=$({__name:"View",setup(e){return(o,n)=>{const l=Ne("router-view");return k(),M(bt,null,{default:S(()=>[v(l)]),_:1})}}});const _t=j({...q(),...tt()},"VLayout"),kt=Y()({name:"VLayout",props:_t(),setup(e,o){let{slots:n}=o;const{layoutClasses:l,layoutStyles:a,getLayoutItem:t,items:s,layoutRef:b}=at(e);return W(()=>{var p;return v("div",{ref:b,class:[l.value,e.class],style:[a.value,e.style]},[(p=n.default)==null?void 0:p.call(n)])}),{getLayoutItem:t,items:s}}}),Tt=$({__name:"Default",setup(e){return(o,n)=>(k(),M(kt,null,{default:S(()=>[v(ot),v(ht),v(yt),v(pt)]),_:1}))}});export{Tt as default};
